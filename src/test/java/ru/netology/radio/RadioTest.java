// Пакет, содержащий тестовые классы для проверки функциональности радио
package ru.netology.radio;

// Импорт необходимых классов для тестирования
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.assertEquals;

/**
 * Класс RadioTest содержит модульные тесты для проверки корректности
 * работы класса Radio.
 * Используется фреймворк JUnit 5 (Jupiter).
 * Все тесты проверяют соответствие фактического поведения класса
 * ожидаемому согласно техническому заданию.
 */
public class RadioTest {

    /**
     * Тест проверяет установку допустимого номера радиостанции.
     * Ожидаемое поведение: при установке станции 5 метод getCurrentStation()
     * должен вернуть значение 5.
     */
    @Test
    void shouldSetStationValid() {
        // Создание тестируемого объекта
        Radio radio = new Radio();

        // Установка станции в середине диапазона
        radio.setCurrentStation(5);

        // Проверка, что станция установилась корректно
        assertEquals(5, radio.getCurrentStation());
    }

    /**
     * Тест проверяет реакцию на попытку установить станцию меньше минимальной (0).
     * Ожидаемое поведение: при установке станции -1 значение не должно измениться
     * и остаться равным 0 (значение по умолчанию).
     */
    @Test
    void shouldNotSetStationBelowMin() {
        Radio radio = new Radio();

        // Попытка установить недопустимое значение
        radio.setCurrentStation(-1);

        // Проверка, что значение не изменилось (осталось 0)
        assertEquals(0, radio.getCurrentStation()); // Остаётся дефолт 0
    }

    /**
     * Тест проверяет реакцию на попытку установить станцию больше максимальной (9).
     * Ожидаемое поведение: при установке станции 10 значение не должно измениться
     * и остаться равным 0 (значение по умолчанию).
     */
    @Test
    void shouldNotSetStationAboveMax() {
        Radio radio = new Radio();

        // Попытка установить недопустимое значение
        radio.setCurrentStation(10);

        // Проверка, что значение не изменилось (осталось 0)
        assertEquals(0, radio.getCurrentStation()); // Остаётся дефолт 0
    }

    /**
     * Тест проверяет переключение на следующую станцию из середины диапазона.
     * Ожидаемое поведение: при текущей станции 5 после вызова next()
     * должна установиться станция 6.
     */
    @Test
    void shouldNextFromMiddle() {
        Radio radio = new Radio();

        // Установка начальной станции
        radio.setCurrentStation(5);

        // Переключение на следующую станцию
        radio.next();

        // Проверка корректного увеличения номера станции
        assertEquals(6, radio.getCurrentStation());
    }

    /**
     * Тест проверяет циклическое переключение при достижении максимальной станции.
     * Ожидаемое поведение: при текущей станции 9 после вызова next()
     * должна установиться станция 0 (закольцовывание).
     */
    @Test
    void shouldNextFromMax() {
        Radio radio = new Radio();

        // Установка максимальной станции
        radio.setCurrentStation(9);

        // Переключение на следующую станцию
        radio.next();

        // Проверка циклического перехода на начало диапазона
        assertEquals(0, radio.getCurrentStation());
    }

    /**
     * Тест проверяет переключение на предыдущую станцию из середины диапазона.
     * Ожидаемое поведение: при текущей станции 5 после вызова prev()
     * должна установиться станция 4.
     */
    @Test
    void shouldPrevFromMiddle() {
        Radio radio = new Radio();

        // Установка начальной станции
        radio.setCurrentStation(5);

        // Переключение на предыдущую станцию
        radio.prev();

        // Проверка корректного уменьшения номера станции
        assertEquals(4, radio.getCurrentStation());
    }

    /**
     * Тест проверяет циклическое переключение при достижении минимальной станции.
     * Ожидаемое поведение: при текущей станции 0 после вызова prev()
     * должна установиться станция 9 (закольцовывание).
     */
    @Test
    void shouldPrevFromMin() {
        Radio radio = new Radio();

        // Установка минимальной станции
        radio.setCurrentStation(0);

        // Переключение на предыдущую станцию
        radio.prev();

        // Проверка циклического перехода на конец диапазона
        assertEquals(9, radio.getCurrentStation());
    }

    /**
     * Тест проверяет увеличение громкости из начального состояния.
     * Ожидаемое поведение: при начальной громкости 0 после вызова increaseVolume()
     * громкость должна стать равной 1.
     */
    @Test
    void shouldIncreaseVolumeMiddle() {
        Radio radio = new Radio();

        // Увеличение громкости с начального значения 0
        radio.increaseVolume();

        // Проверка, что громкость увеличилась на 1
        assertEquals(1, radio.getCurrentVolume());
    }

    /**
     * Тест проверяет ограничение громкости при достижении максимального значения.
     * Ожидаемое поведение: после 100 увеличений громкости (достижение максимума)
     * следующее увеличение не должно изменить значение (остаётся 100).
     */
    @Test
    void shouldNotIncreaseVolumeMax() {
        Radio radio = new Radio();

        // Увеличение громкости до максимума (100 раз)
        for (int i = 0; i < 100; i++) {
            radio.increaseVolume();
        }

        // Попытка увеличить громкость сверх максимальной
        radio.increaseVolume();

        // Проверка, что громкость осталась максимальной (100)
        assertEquals(100, radio.getCurrentVolume());
    }

    /**
     * Тест проверяет уменьшение громкости из ненулевого состояния.
     * Ожидаемое поведение: после увеличения громкости до 1
     * и последующего уменьшения, громкость должна стать равной 0.
     */
    @Test
    void shouldDecreaseVolumeMiddle() {
        Radio radio = new Radio();

        // Сначала увеличиваем громкость с 0 до 1
        radio.increaseVolume(); // Чтобы не 0

        // Затем уменьшаем громкость
        radio.decreaseVolume();

        // Проверка, что громкость уменьшилась до 0
        assertEquals(0, radio.getCurrentVolume());
    }

    /**
     * Тест проверяет ограничение громкости при достижении минимального значения.
     * Ожидаемое поведение: при начальной громкости 0 попытка уменьшения
     * не должна изменить значение (остаётся 0).
     */
    @Test
    void shouldNotDecreaseVolumeMin() {
        Radio radio = new Radio();

        // Попытка уменьшить громкость при минимальном значении
        radio.decreaseVolume();

        // Проверка, что громкость осталась минимальной (0)
        assertEquals(0, radio.getCurrentVolume());
    }
}